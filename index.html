<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Infinity Craft - Ù…ÙˆØ¯Ø§Øª Ù…Ø§ÙŠÙ†ÙƒØ±Ø§ÙØª</title>
<style>
  body { font-family:'Cairo',sans-serif; background:#fff; color:#222; text-align:center; margin:0; padding:0; }
  header { background:#8e24aa; color:white; padding:15px; font-size:24px; font-weight:bold; }
  .mods { display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:12px; padding:15px; }
  .mod { border:2px solid #4CAF50; border-radius:10px; padding:10px; background:#f9f9f9; transition:0.3s; }
  .mod:hover { transform:scale(1.02); }
  .mod img { width:100%; border-radius:10px; }
  button { background:#4CAF50; color:white; border:none; padding:10px 15px; border-radius:8px; cursor:pointer; margin:5px; }
  button:hover { background:#45a049; }
  #uploadForm { display:none; background:#f2f2f2; padding:15px; border-radius:10px; margin:10px; }
  input, textarea { width:90%; margin:5px; padding:8px; border-radius:6px; border:1px solid #ccc; }
  a { color:#8e24aa; text-decoration:none; font-weight:bold; }
  #searchBox { width:80%; padding:8px; margin:10px auto; border:2px solid #4CAF50; border-radius:8px; font-size:16px; }
</style>
</head>
<body>

<header>Infinity Craft ğŸ§±</header>

<!-- Ø±ÙˆØ§Ø¨Ø· -->
<button onclick="toggleUpload()">ğŸ“¤ Ø§Ù†Ø´Ø± Ù…ÙˆØ¯Ùƒ</button>
<a href="https://t.me/+qq_iB3QRLpJjMGFk">ğŸ“¢ Ù‚Ù†Ø§Ø© Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…</a>

<!-- Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« -->
<input type="text" id="searchBox" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ÙˆØ¯..." oninput="searchMods()">

<!-- Ù†Ù…ÙˆØ°Ø¬ Ø±ÙØ¹ Ù…ÙˆØ¯ -->
<div id="uploadForm">
  <h3>Ù†Ø´Ø± Ù…ÙˆØ¯ Ø¬Ø¯ÙŠØ¯</h3>
  <input id="modName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¯"><br>
  <input id="modDesc" placeholder="ÙˆØµÙ Ø§Ù„Ù…ÙˆØ¯"><br>
  <input id="modImg" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù…ÙˆØ¯"><br>
  <input id="modLink" placeholder="Ø±Ø§Ø¨Ø· ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¯ (MediaFire Ù…Ø«Ù„Ø§Ù‹)"><br>
  <input id="modOwner" placeholder="Ø§Ø³Ù…Ùƒ (Ø¹Ø´Ø§Ù† ØªÙ‚Ø¯Ø± ØªØ­Ø°Ù Ø§Ù„Ù…ÙˆØ¯ Ø¨Ø¹Ø¯ÙŠÙ†)"><br>
  <button onclick="uploadMod()">âœ… Ù†Ø´Ø± Ø§Ù„Ù…ÙˆØ¯</button>
</div>

<h2>ğŸ§© ÙƒÙ„ Ø§Ù„Ù…ÙˆØ¯Ø§Øª</h2>
<div class="mods" id="modsContainer"></div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

<script>
  // Ø¥Ø¹Ø¯Ø§Ø¯ Firebase (Ø¨Ø¯Ù„ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø¯ÙŠ Ø¨Ù…ÙØ§ØªÙŠØ­ Ù…Ø´Ø±ÙˆØ¹Ùƒ)
  const firebaseConfig = {
    apiKey: "AIzaSyA5f-XXXXX-XXXXXX-XXXXXX",
    authDomain: "infinity-craft.firebaseapp.com",
    databaseURL: "https://infinity-craft-default-rtdb.firebaseio.com",
    projectId: "infinity-craft",
    storageBucket: "infinity-craft.appspot.com",
    messagingSenderId: "1234567890",
    appId: "1:1234567890:web:abcd1234"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const modsContainer = document.getElementById('modsContainer');
  const searchBox = document.getElementById('searchBox');
  const uploadForm = document.getElementById('uploadForm');
  let currentUser = "";

  function toggleUpload() {
    uploadForm.style.display = uploadForm.style.display === 'none' ? 'block' : 'none';
  }

  function uploadMod() {
    const name = document.getElementById('modName').value.trim();
    const desc = document.getElementById('modDesc').value.trim();
    const img = document.getElementById('modImg').value.trim();
    const link = document.getElementById('modLink').value.trim();
    const owner = document.getElementById('modOwner').value.trim();

    if (!name || !desc || !img || !link || !owner) {
      alert("Ø§Ù…Ù„Ø£ ÙƒÙ„ Ø§Ù„Ø®Ø§Ù†Ø§Øª!");
      return;
    }

    currentUser = owner;

    const newMod = { name, desc, img, link, owner };
    const modKey = db.ref().child('mods').push().key;
    db.ref('mods/' + modKey).set(newMod);

    alert("âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„Ù…ÙˆØ¯!");
    document.getElementById('modName').value = '';
    document.getElementById('modDesc').value = '';
    document.getElementById('modImg').value = '';
    document.getElementById('modLink').value = '';
    document.getElementById('modOwner').value = '';
  }

  function deleteMod(key, owner) {
    const user = prompt("ğŸ§â€â™‚ï¸ Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù„Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¯:");
    if (user === owner) {
      db.ref('mods/' + key).remove();
      alert("ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¯ Ø¨Ù†Ø¬Ø§Ø­!");
    } else {
      alert("âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø­Ø°Ù Ù…ÙˆØ¯ Ø´Ø®Øµ Ø¢Ø®Ø±!");
    }
  }

  function loadMods() {
    db.ref('mods').on('value', snapshot => {
      modsContainer.innerHTML = '';
      const mods = snapshot.val();
      if (!mods) return;
      Object.entries(mods).reverse().forEach(([key, mod]) => {
        const div = document.createElement('div');
        div.className = 'mod';
        div.innerHTML = `
          <h3>${mod.name}</h3>
          <img src="${mod.img}" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…ÙˆØ¯">
          <p>${mod.desc}</p>
          <a href="${mod.link}" target="_blank"><button>â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¯</button></a>
          <p><b>Ø§Ù„Ù†Ø§Ø´Ø±:</b> ${mod.owner}</p>
          <button onclick="deleteMod('${key}', '${mod.owner}')">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¯</button>
        `;
        modsContainer.appendChild(div);
      });
    });
  }

  function searchMods() {
    const term = searchBox.value.toLowerCase();
    const mods = document.querySelectorAll('.mod');
    mods.forEach(mod => {
      const text = mod.textContent.toLowerCase();
      mod.style.display = text.includes(term) ? 'block' : 'none';
    });
  }

  loadMods();
</script>

</body>
</html>
